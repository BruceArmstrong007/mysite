<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>mysite</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

      </head>
<body>
    <header></header>
    <main>
        <div class="row">
            <div class="container-fluid" >
              <a href="add/" class="btn btn-outline-success" style="float:right;margin:1vw;"> + Add</a>
              <a href="" class=""></a>
            </div>
        </div>
                  <div class="form-group">
                      <label for="designation"><b>Search:</b></label>
                      <input type="text" maxlength="30" class="form-control" placeholder="Search.." id="search" name="search">
                  </div>  
                  <div class=" table-responsive">
                  <table class="table table-sm table-striped  table-hover table-borderless">
              <thead class="thead-dark">
                  <tr>
                      <th>ID</th>
                      <th>Address</th>
                      <th>Latitude</th>
                      <th>Longitude</th>
                      <th>Edit</th>
                      <th>Delete</th>
                  </tr>
                  </thead>
                  {% for item in destination %}
                  <tr class="filter">
                  <td>{{item.tid}}</td>
                  <td>{{item.address}}</td>
                  <td>{{item.latitude}}</td>
                  <td>{{item.longitude}}</td>
                  <td><a href="edit/{{ item.tid }}/"  id="edit" class="btn btn-outline-secondary">Edit</a></td>
                  <td><button value="{{ item.tid }}" id="delete" class="btn btn-outline-danger" data-toggle="modal" data-target="#Mdelete">Delete</button></td>
                  </tr>
                  {% endfor %}
              </table></div>
              <div class="modal fade" id="Mdelete">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h4 class="modal-title">Delete</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                          </div>
                          <div class="modal-body">
                            Do you wish to Delete?
                          </div>
                          <div class="modal-footer">
                            <button id="delete1" class="btn btn-outline-secondary">Delete</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          </div>
                        </div>
                      </div>
                  </div>  
                  <script>
                  $(document).ready(function(){
                      $("#delete1").on('click',function(){
                         del="delete/"+$("#delete").val();
                         $.ajax({
                             url: del,
                             type : 'GET',
                             data : {}
                         }).done(function(response){
                          location.reload();
                         });
                         $
                      });
                  });</script>   
                  <script>
                    $(document).ready(function(){
                      $("#search").on("keyup", function() {
                        var value = $(this).val().toLowerCase();
                        $(".filter").filter(function() {
                          $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                        });
                      });
                    });
                    </script>
                  <div id="result"></div>   
          </main>
          
    <footer></footer>
</body>
</html>